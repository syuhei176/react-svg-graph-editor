{"version":3,"sources":["nodePos.js"],"names":["NodePos","options","x","y","parent","emit","on","parentPos","getAPos"],"mappings":";;;;;;;;AAAA;;AACA;;;;;;;;;;;;IAEqBA,O;;;AAEpB,kBAAYC,OAAZ,EAAqB;AAAA;;AAAA;;AAEpB,QAAKC,CAAL,GAASD,QAAQC,CAAR,IAAa,CAAtB;AACA,QAAKC,CAAL,GAASF,QAAQE,CAAR,IAAa,CAAtB;AACA,QAAKC,MAAL,GAAc,IAAd;AAJoB;AAKpB;;;;yBAEMF,C,EAAGC,C,EAAG;AACZ,QAAKD,CAAL,GAASA,CAAT;AACA,QAAKC,CAAL,GAASA,CAAT;AACA,QAAKE,IAAL,CAAU,QAAV,EAAoB,IAApB;AACA;;;4BAESD,M,EAAQ;AAAA;;AACjB,QAAKA,MAAL,GAAcA,MAAd;AACA,QAAKA,MAAL,CAAYE,EAAZ,CAAe,QAAf,EAAyB,YAAI;AAC5B,WAAKD,IAAL,CAAU,QAAV;AACA,IAFD;AAGA;;;0BAEOH,C,EAAGC,C,EAAG;AACb,OAAG,KAAKC,MAAR,EAAgB;AACf,QAAIG,YAAY,KAAKH,MAAL,CAAYI,OAAZ,EAAhB;AACA,WAAO;AACNN,QAAG,KAAKA,CAAL,GAASK,UAAUL,CADhB;AAENC,QAAG,KAAKA,CAAL,GAASI,UAAUJ;AAFhB,KAAP;AAIA,IAND,MAMK;AACJ,WAAO,IAAP;AACA;AACD;;;;;;kBAhCmBH,O","file":"nodePos.js","sourcesContent":["import {EventEmitter} from 'events';\nimport Point2D from 'point2d'\n\nexport default class NodePos extends EventEmitter {\n\n\tconstructor(options) {\n\t\tsuper();\n\t\tthis.x = options.x || 0;\n\t\tthis.y = options.y || 0;\n\t\tthis.parent = null;\n\t}\n\n\tsetPos(x, y) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.emit('change', this);\n\t}\n\n\tsetParent(parent) {\n\t\tthis.parent = parent;\n\t\tthis.parent.on('change', ()=>{\n\t\t\tthis.emit('change', this);\n\t\t})\n\t}\n\n\tgetAPos(x, y) {\n\t\tif(this.parent) {\n\t\t\tlet parentPos = this.parent.getAPos();\n\t\t\treturn {\n\t\t\t\tx: this.x + parentPos.x,\n\t\t\t\ty: this.y + parentPos.y\n\t\t\t}\n\t\t}else{\n\t\t\treturn this;\n\t\t}\n\t}\n\n}\n"]}
{"version":3,"sources":["components/edge.js"],"names":["Edge","props","state","src","node","target","on","setState","offset","x","y","srcPos","getAPos","targetPos","xx","yy","bezierCurveControlPointX","path","Component"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;;;;;IAGqBA,I;;;AACpB,eAAYC,KAAZ,EAAmB;AAAA;;AAAA,0GACZA,KADY;;AAElB,QAAKC,KAAL,GAAa;AACZC,QAAKF,MAAME,GAAN,CAAUC,IADH;AAEZC,WAAQJ,MAAMI,MAAN,CAAaD;AAFT,GAAb;AAIAH,QAAME,GAAN,CAAUC,IAAV,CAAeE,EAAf,CAAkB,QAAlB,EAA4B,UAACF,IAAD,EAAU;AACrC,SAAKG,QAAL,CAAc;AACbJ,SAAKC;AADQ,IAAd;AAGA,GAJD;AAKAH,QAAMI,MAAN,CAAaD,IAAb,CAAkBE,EAAlB,CAAqB,QAArB,EAA+B,UAACF,IAAD,EAAU;AACxC,SAAKG,QAAL,CAAc;AACbF,YAAQD;AADK,IAAd;AAGA,GAJD;AAXkB;AAgBlB;;;;2BAEQ;AAAA,gBACY,KAAKF,KADjB;AAAA,OACHC,GADG,UACHA,GADG;AAAA,OACEE,MADF,UACEA,MADF;;AAER,OAAIG,SAAS,KAAKP,KAAL,CAAWO,MAAX,IAAqB,EAACC,GAAE,GAAH,EAAQC,GAAE,EAAV,EAAlC;AACA,OAAIC,SAASR,IAAIS,OAAJ,EAAb;AACA,OAAIC,YAAYR,OAAOO,OAAP,EAAhB;AACA,OAAIE,KAAKD,UAAUJ,CAAV,GAAcE,OAAOF,CAA9B;AACA,OAAIM,KAAMF,UAAUH,CAAV,GAAY,EAAb,GAAmBC,OAAOD,CAAnC;AACA,OAAIM,2BAA2B,EAA/B;AACA,OAAIC,cAAYT,OAAOC,CAAnB,SAAwBD,OAAOE,CAA/B,YAAsCF,OAAOC,CAAP,GAASO,wBAA/C,UAA2ER,OAAOE,CAAlF,UAAuFI,KAAGE,wBAA1F,UAAsHD,EAAtH,SAA4HD,EAA5H,SAAkIC,EAAtI;AACA,UAAQ;AAAA;AAAA;AAAG,4CAAM,QAAO,MAAb,EAAoB,aAAY,GAAhC,EAAoC,MAAK,MAAzC,EAAgD,GAAGE,IAAnD;AAAH,IAAR;AACA;;;;EA7BgC,gBAAMC,S;;kBAAnBlB,I","file":"edge.js","sourcesContent":["import React from 'react'\nimport Point2D from 'point2d'\n\n\nexport default class Edge extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tsrc: props.src.node,\n\t\t\ttarget: props.target.node\n\t\t}\n\t\tprops.src.node.on('change', (node) => {\n\t\t\tthis.setState({\n\t\t\t\tsrc: node\n\t\t\t});\n\t\t})\n\t\tprops.target.node.on('change', (node) => {\n\t\t\tthis.setState({\n\t\t\t\ttarget: node\n\t\t\t});\n\t\t})\n\t}\n\n\trender() {\n\t\tlet {src, target} = this.state;\n\t\tlet offset = this.props.offset || {x:160, y:30}\n\t\tlet srcPos = src.getAPos();\n\t\tlet targetPos = target.getAPos();\n\t\tlet xx = targetPos.x - srcPos.x;\n\t\tlet yy = (targetPos.y+30) - srcPos.y;\n\t\tlet bezierCurveControlPointX = 50;\n\t\tlet path = `M ${offset.x} ${offset.y} C ${offset.x+bezierCurveControlPointX} ${offset.y} ${xx-bezierCurveControlPointX} ${yy} ${xx} ${yy}`\n\t\treturn (<g><path stroke=\"#333\" strokeWidth=\"2\" fill=\"none\" d={path}/></g>)\n\t}\n}"]}